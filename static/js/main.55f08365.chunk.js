(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={Overlay:"Modal_Overlay__oXRye",Modal:"Modal_Modal__2pOcH"}},22:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__2Tnrw"}},25:function(e,a,t){e.exports={App:"styles_App__3-zv5"}},27:function(e,a,t){e.exports=t(71)},7:function(e,a,t){e.exports={Searchbar:"SearchForm_Searchbar__tZskI",SearchForm:"SearchForm_SearchForm__2rnXS",SearchForm_button:"SearchForm_SearchForm_button__U0t63",SearchForm_button_label:"SearchForm_SearchForm_button_label__By5g1",SearchForm_input:"SearchForm_SearchForm_input__3zb00"}},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(21),l=t.n(o),c=t(11),i=t(3),u=t(4),s=t(6),m=t(5),h=t(8),p=t.n(h),d=function(e){var a=e.onClick;return r.a.createElement("div",{className:p.a.Btn},r.a.createElement("button",{className:p.a.Button,type:"button",onClick:a},"Load more"))},g=t(9),_=t.n(g),y=function(e){var a=e.data,t=e.onClick;return r.a.createElement("li",{className:_.a.ImageGalleryItem,onClick:t},r.a.createElement("img",{src:a.webformatURL,alt:a.tags,id:a.id,className:_.a.ImageGalleryItem_image}))},f=t(22),b=t.n(f),v=function(e){var a=e.data,t=e.onClick;return r.a.createElement("ul",{className:b.a.ImageGallery},a.length>0&&a.map((function(e){return r.a.createElement(y,{data:e,key:e.id,onClick:t})})))},S=(t(32),t(23)),E=t.n(S),k=function(){return r.a.createElement("div",null,r.a.createElement(E.a,{type:"Puff",color:"#00BFFF",height:100,width:100}))},I=t(10),O=t.n(I),C=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={},e.handleKeyPressESC=function(a){var t=e.props.onClick;27===a.keyCode&&t()},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPressESC)}},{key:"UNSAFE_componentWillMount",value:function(){window.removeEventListener("keydown",this.handleKeyPressESC)}},{key:"render",value:function(){var e=this.props,a=e.onClick,t=e.children;return r.a.createElement("div",{className:O.a.Overlay,onClick:a,role:"presentation"},r.a.createElement("div",{className:O.a.Modal},t))}}]),t}(n.Component),L=t(26),F=t(7),w=t.n(F),M={inputValue:""},j=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={inputValue:" "},e.handleOnChange=function(a){var t=a.target.value;e.setState({inputValue:t})},e.handleOnSubmit=function(a){a.preventDefault(),(0,e.props.onSubmit)(e.state.inputValue),e.setState(Object(L.a)({},M))},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.state.inputValue;return r.a.createElement("header",{className:w.a.Searchbar},r.a.createElement("form",{className:w.a.SearchForm,onSubmit:this.handleOnSubmit},r.a.createElement("button",{type:"submit",className:w.a.SearchForm_button},r.a.createElement("span",{className:w.a.SearchForm_button_label},"Search")),r.a.createElement("input",{onChange:this.handleOnChange,value:e,className:w.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})))}}]),t}(n.Component),N=t(24),B=t.n(N),G=function(e){var a=e.query,t=e.page;return B.a.get("".concat("https://pixabay.com/api/","?q=").concat(a,"&page=").concat(t,"&key=").concat("14760825-e730b99d3ea41b1e2e75ad068","&image_type=photo&orientation=horizontal&per_page=12"))},q=t(25),D=t.n(q),U=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={allData:[],page:0,query:"",isLoading:!1,isModal:!1,idLargeImageURL:""},e.getDataByParams=function(a){var t=a.query,n=a.page,r=e.state.allData,o=n>1?document.documentElement.scrollHeight:0;return e.setState({isLoading:!0}),G({page:n,query:t}).then((function(a){var t=a.data;return e.setState({allData:[].concat(Object(c.a)(r),Object(c.a)(t.hits))})})).finally((function(){e.setState({isLoading:!1}),window.scrollTo({top:o,behavior:"smooth"})}))},e.handleOnSubmit=function(a){e.setState({allData:[],query:a,page:1})},e.handleLoadMore=function(){var a=e.state.page;e.setState({page:a+1})},e.openModal=function(a){e.setState({isModal:!0,idLargeImageURL:a.target.id})},e.closeModal=function(){e.setState({isModal:!1})},e.getLargeImageURL=function(){var a=e.state,t=a.allData,n=a.isModal,r=a.idLargeImageURL,o=t.find((function(e){return e.id===Number(r)}));return n?o.largeImageURL:""},e}return Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.page,r=t.query;a.page===n&&a.query===r||""!==r&&this.getDataByParams({query:r,page:n})}},{key:"render",value:function(){var e=this.state,a=e.allData,t=e.isModal,n=e.isLoading;return r.a.createElement("div",{className:D.a.App},r.a.createElement(j,{onSubmit:this.handleOnSubmit}),r.a.createElement(v,{data:a,onClick:this.openModal}),n&&r.a.createElement(k,null),a.length>0&&r.a.createElement(d,{onClick:this.handleLoadMore}),t&&r.a.createElement(C,{onClick:this.closeModal},r.a.createElement("img",{src:this.getLargeImageURL(),alt:""})))}}]),t}(n.Component);l.a.render(r.a.createElement(U,null),document.querySelector("#root"))},8:function(e,a,t){e.exports={Btn:"Button_Btn__1I5kp",Button:"Button_Button__dqcVa"}},9:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__QEikL",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__Lc8AJ"}}},[[27,1,2]]]);
//# sourceMappingURL=main.55f08365.chunk.js.map