{"version":3,"sources":["componеnts/Modal/Modal.module.css","componеnts/ImageGallery/ImageGallery.module.css","styles.module.css","componеnts/ErrorNotification/ErrorNotification.module.css","componеnts/Searchbar/SearchForm.module.css","componеnts/Button/Button.js","componеnts/ImageGalleryItem/ImagеGallеryItеm.js","componеnts/ImageGallery/ImagеGallеry.js","componеnts/Loader/Loader.js","componеnts/Modal/Modal.js","componеnts/Searchbar/Searchbar.js","componеnts/Utils/ImagеApi.js","componеnts/ErrorNotification/ErrorNotification.js","App.js","index.js","componеnts/Button/Button.module.css","componеnts/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Button","onClick","className","styles","Btn","type","ImageGalleryItem","gallery","onOpen","role","src","webformatURL","alt","tags","id","largeImageURL","ImageGalleryItem_image","ImageGallery","map","el","key","Loader","color","height","width","Modal","handleKeyDown","code","props","onClose","closeModalByClick","target","currentTarget","window","addEventListener","this","removeEventListener","imgUrl","Overlay","Component","Searchbar","state","inputValue","handleOnChange","e","value","setState","handleOnSubmit","preventDefault","onSubmit","SearchForm","SearchForm_button","SearchForm_buttonLabel","onChange","SearchForm_input","autoComplete","autoFocus","placeholder","getImages","query","page","axios","get","ErrorNotification","text","erro","App","isLoading","isModal","error","getDataByParams","then","data","hits","catch","finally","setTimeout","handleSearch","handleLoadMore","openLargeImage","largeImgUrl","closeModal","prevProps","prevState","length","scrollTo","top","document","documentElement","scrollHeight","behavior","message","ReactDOM","render","querySelector"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,IAAM,sB,mBCAxBD,EAAOC,QAAU,CAAC,MAAQ,mC,sDCA1BD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,WAAa,+BAA+B,kBAAoB,sCAAsC,uBAAyB,2CAA2C,iBAAmB,uC,gICgB1OC,EAbA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChB,OACE,yBAAKC,UAAWC,IAAOC,KACrB,4BAAQF,UAAWC,IAAOH,OAAQK,KAAK,SAASJ,QAASA,GAAzD,e,gBCsBSK,EAvBU,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,OACnC,OACE,wBAAIN,UAAWC,IAAOG,iBAAkBG,KAAK,gBAC3C,yBACEC,IAAKH,EAAQI,aACbC,IAAKL,EAAQM,KACbC,GAAIP,EAAQO,GACZb,QAAS,kBAAMO,EAAOD,EAAQQ,gBAC9Bb,UAAWC,IAAOa,2B,iBCgBXC,EAxBM,SAAC,GAAyB,IAAvBV,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,OAC/B,OACE,wBAAIN,UAAWC,IAAOc,cACnBV,EAAQW,KAAI,SAAAC,GAAE,OACb,kBAAC,EAAD,CACEC,IAAKD,EAAGL,GACRP,QAASY,EACTX,OAAQA,EACRO,cAAeI,EAAGJ,qB,yBCHbM,EAPA,WACb,OACE,6BACE,kBAAC,IAAD,CAAahB,KAAK,OAAOiB,MAAM,UAAUC,OAAQ,IAAKC,MAAO,Q,iBCF9CC,E,4MAanBC,cAAgB,YACD,WADe,EAAXC,MAEf,EAAKC,MAAMC,W,EAIfC,kBAAoB,YAA+B,EAA5BC,SAA4B,EAApBC,eAE3B,EAAKJ,MAAMC,W,kEAfbI,OAAOC,iBAAiB,UAAWC,KAAKT,iB,6CAIxCO,OAAOG,oBAAoB,UAAWD,KAAKT,iB,+BAenC,IACAW,EAAWF,KAAKP,MAAhBS,OACR,OACE,yBAAKpC,QAASkC,KAAKL,kBAAmB5B,UAAWC,IAAOmC,SACtD,yBAAKpC,UAAWC,IAAOsB,OACpBY,GAAU,yBAAK3B,IAAK2B,EAAQzB,IAAI,c,GA9BR2B,a,wBCDdC,E,4MAKnBC,MAAQ,CACNC,WAAY,K,EAGdC,eAAiB,SAAAC,GAAM,IACbC,EAAUD,EAAEb,OAAZc,MACR,EAAKC,SAAS,CAAEJ,WAAYG,K,EAG9BE,eAAiB,SAAAH,GACfA,EAAEI,iBADkB,IAEZC,EAAa,EAAKrB,MAAlBqB,SACAP,EAAe,EAAKD,MAApBC,WACRO,EAASP,GACT,EAAKI,SAAL,eAAmBJ,K,uDAGX,IACAA,EAAeP,KAAKM,MAApBC,WACR,OACE,4BAAQxC,UAAWC,IAAOqC,WACxB,0BAAMtC,UAAWC,IAAO+C,WAAYD,SAAUd,KAAKY,gBACjD,4BAAQ1C,KAAK,SAASH,UAAWC,IAAOgD,mBACtC,0BAAMjD,UAAWC,IAAOiD,wBAAxB,WAGF,2BACEC,SAAUlB,KAAKQ,eACfE,MAAOH,EACPxC,UAAWC,IAAOmD,iBAClBjD,KAAK,OACLkD,aAAa,MACbC,WAAS,EACTC,YAAY,mC,GAtCelB,a,iBCMxBmB,EANG,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KAC1B,OAAOC,IAAMC,IAAN,UAHO,2BAGP,cACWH,EADX,iBACyBC,EADzB,gBAFG,qCAEH,0D,kCCMMG,EAPW,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACxB,wBAAI9D,UAAWC,IAAO8D,MAAtB,iCACgC,6BAC7BD,ICIgBE,E,4MACnBzB,MAAQ,CACNlC,QAAS,GACTqD,KAAM,EACND,MAAO,GACPQ,WAAW,EACXC,SAAS,EACT/B,OAAQ,GACRgC,MAAO,M,EAkBTC,gBAAkB,YAAsB,IAAnBX,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KAClBrD,EAAY,EAAKkC,MAAjBlC,QAER,OADA,EAAKuC,SAAS,CAAEqB,WAAW,IACpBT,EAAU,CAAEE,OAAMD,UACtBY,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAK1B,SAAS,CAAEvC,QAAQ,GAAD,mBAAMA,GAAN,YAAkBiE,EAAKC,YAE/CC,OAAM,SAAAL,GAEL,EAAKvB,SAAS,CAAEuB,aAEjBM,SAAQ,kBACPC,YAAW,WACT,EAAK9B,SAAS,CAAEqB,WAAW,MAC1B,S,EAITU,aAAe,SAAAjC,GACb,EAAKE,SAAS,CAAEvC,QAAS,GAAIoD,MAAOf,EAAGgB,KAAM,K,EAG/CkB,eAAiB,WAAO,IACdlB,EAAS,EAAKnB,MAAdmB,KACR,EAAKd,SAAS,CAAEc,KAAMA,EAAO,K,EAG/BmB,eAAiB,SAAAC,GACf,EAAKlC,SAAS,CAAET,OAAQ2C,IACxB,EAAKC,c,EAGPA,WAAa,WACX,EAAKnC,UAAS,SAAAL,GAAK,MAAK,CAAE2B,SAAU3B,EAAM2B,a,iEAhDzBc,EAAWC,GAAY,IAAD,EACNhD,KAAKM,MAA9BmB,EAD+B,EAC/BA,KAAMD,EADyB,EACzBA,MAAOpD,EADkB,EAClBA,QACjB4E,EAAUvB,OAASA,GAAQuB,EAAUxB,QAAUA,GACjDxB,KAAKmC,gBAAgB,CAAEX,QAAOC,SAE5BuB,EAAU5E,UAAYA,GAAWA,EAAQ6E,OAAS,IACpDR,YAAW,WACT3C,OAAOoD,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,aAEX,O,+BAwCG,IAAD,EACgDvD,KAAKM,MAApDlC,EADD,EACCA,QAAS8D,EADV,EACUA,MAAOD,EADjB,EACiBA,QAASD,EAD1B,EAC0BA,UAAW9B,EADrC,EACqCA,OAC5C,OACE,yBAAKnC,UAAWC,IAAO+D,KACrB,kBAAC,EAAD,CAAWjB,SAAUd,KAAK0C,eACzBR,GAAS,kBAAC,EAAD,CAAmBL,KAAMK,EAAMsB,UACxCpF,EAAQ6E,OAAS,GAChB,kBAAC,EAAD,CAAc7E,QAASA,EAASC,OAAQ2B,KAAK4C,iBAE9CZ,GAAa,kBAAC,EAAD,MACb5D,EAAQ6E,OAAS,GAAK,kBAAC,EAAD,CAAQnF,QAASkC,KAAK2C,iBAC5CV,GAAW,kBAAC,EAAD,CAAOvC,QAASM,KAAK8C,WAAY5C,OAAQA,S,GAzE5BE,aCPjCqD,IAASC,OAAO,kBAAC,EAAD,MAASN,SAASO,cAAc,W,kBCHhDhG,EAAOC,QAAU,CAAC,IAAM,oBAAoB,OAAS,yB,kBCArDD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,oD","file":"static/js/main.de6d6ee0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__oXRye\",\"Modal\":\"Modal_Modal__2pOcH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Tnrw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__3-zv5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorNotification_error__2i0rt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchForm_Searchbar__tZskI\",\"SearchForm\":\"SearchForm_SearchForm__2rnXS\",\"SearchForm_button\":\"SearchForm_SearchForm_button__U0t63\",\"SearchForm_buttonLabel\":\"SearchForm_SearchForm_buttonLabel__3N3lE\",\"SearchForm_input\":\"SearchForm_SearchForm_input__3zb00\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={styles.Btn}>\n      <button className={styles.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","/* eslint-disable no-undef */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ gallery, onOpen }) => {\n  return (\n    <li className={styles.ImageGalleryItem} role=\"presentation\">\n      <img\n        src={gallery.webformatURL}\n        alt={gallery.tags}\n        id={gallery.id}\n        onClick={() => onOpen(gallery.largeImageURL)}\n        className={styles.ImageGalleryItem_image}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  gallery: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n  onOpen: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","/* eslint-disable no-shadow */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImagеGallеryItеm';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ gallery, onOpen }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {gallery.map(el => (\n        <ImageGalleryItem\n          key={el.id}\n          gallery={el}\n          onOpen={onOpen}\n          largeImageURL={el.largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  onOpen: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport ReactLoader from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <div>\n      <ReactLoader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\n    </div>\n  );\n};\nexport default Loader;\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    imgUrl: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = ({ code }) => {\n    if (code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  closeModalByClick = ({ target, currentTarget }) => {\n    if (target === currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { imgUrl } = this.props;\n    return (\n      <div onClick={this.closeModalByClick} className={styles.Overlay}>\n        <div className={styles.Modal}>\n          {imgUrl && <img src={imgUrl} alt=\"img\" />}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    inputValue: ' ',\n  };\n\n  handleOnChange = e => {\n    const { value } = e.target;\n    this.setState({ inputValue: value });\n  };\n\n  handleOnSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { inputValue } = this.state;\n    onSubmit(inputValue);\n    this.setState({ ...inputValue });\n  };\n\n  render() {\n    const { inputValue } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleOnSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_buttonLabel}>Search</span>\n          </button>\n\n          <input\n            onChange={this.handleOnChange}\n            value={inputValue}\n            className={styles.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import axios from 'axios';\n\nconst BASEURL = 'https://pixabay.com/api/';\nconst KEY = '14760825-e730b99d3ea41b1e2e75ad068';\nconst getImages = ({ query, page }) => {\n  return axios.get(\n    `${BASEURL}?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport default getImages;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport styles from './ErrorNotification.module.css';\n\nconst ErrorNotification = ({ text }) => (\n  <h1 className={styles.erro}>\n    WHOOPS, SOMETHING WENT WRONG! <br />\n    {text}\n  </h1>\n);\n\nexport default ErrorNotification;\n","/* eslint-disable react/destructuring-assignment */\nimport React, { Component } from 'react';\nimport Button from './componеnts/Button/Button';\nimport ImageGallery from './componеnts/ImageGallery/ImagеGallеry';\nimport Loader from './componеnts/Loader/Loader';\nimport Modal from './componеnts/Modal/Modal';\nimport Searchbar from './componеnts/Searchbar/Searchbar';\nimport getImages from './componеnts/Utils/ImagеApi';\nimport styles from './styles.module.css';\nimport ErrorNotification from './componеnts/ErrorNotification/ErrorNotification';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    page: 0,\n    query: '',\n    isLoading: false,\n    isModal: false,\n    imgUrl: '',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, query, gallery } = this.state;\n    if (prevState.page !== page || prevState.query !== query) {\n      this.getDataByParams({ query, page });\n    }\n    if (prevState.gallery !== gallery && gallery.length > 12) {\n      setTimeout(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      }, 1000);\n    }\n  }\n\n  getDataByParams = ({ query, page }) => {\n    const { gallery } = this.state;\n    this.setState({ isLoading: true });\n    return getImages({ page, query })\n      .then(({ data }) =>\n        this.setState({ gallery: [...gallery, ...data.hits] }),\n      )\n      .catch(error => {\n        // eslint-disable-next-line react/no-unused-state\n        this.setState({ error });\n      })\n      .finally(() =>\n        setTimeout(() => {\n          this.setState({ isLoading: false });\n        }, 500),\n      );\n  };\n\n  handleSearch = e => {\n    this.setState({ gallery: [], query: e, page: 1 });\n  };\n\n  handleLoadMore = () => {\n    const { page } = this.state;\n    this.setState({ page: page + 1 });\n  };\n\n  openLargeImage = largeImgUrl => {\n    this.setState({ imgUrl: largeImgUrl });\n    this.closeModal();\n  };\n\n  closeModal = () => {\n    this.setState(state => ({ isModal: !state.isModal }));\n  };\n\n  render() {\n    const { gallery, error, isModal, isLoading, imgUrl } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSearch} />\n        {error && <ErrorNotification text={error.message} />}\n        {gallery.length > 0 && (\n          <ImageGallery gallery={gallery} onOpen={this.openLargeImage} />\n        )}\n        {isLoading && <Loader />}\n        {gallery.length > 0 && <Button onClick={this.handleLoadMore} />}\n        {isModal && <Modal onClose={this.closeModal} imgUrl={imgUrl} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__1I5kp\",\"Button\":\"Button_Button__dqcVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__QEikL\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__Lc8AJ\"};"],"sourceRoot":""}